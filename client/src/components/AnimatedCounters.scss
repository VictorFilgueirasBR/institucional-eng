/* client/src/components/AnimatedCounters.scss - Otimização para Dispositivos Menores */

// Variáveis para consistência (pode vir de um arquivo global se houver)
$text-color-light: #fff;
$glass-bg-color: rgba(255, 255, 255, 0.05); // Fundo sutil
$glass-border-color: rgba(255, 255, 255, 0.1); // Borda sutil
$secondary-text-color: rgba(255, 255, 255, 0.7); // Cor para labels

.animated-counters-section {
  width: 100%;
  padding: 2.5rem 1rem;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #1a1a2e; /* Fundo escuro para destacar o glassmorphism */
}

.animated-counters-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2.5rem; /* Espaçamento entre os contadores para melhor distribuição */
  
  // Estilo Glassmorphism para o container principal
  background: $glass-bg-color;
  backdrop-filter: blur(8px);
  border-radius: 20px;
  border: 1px solid $glass-border-color;
  padding: 1.5rem 2.5rem;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  max-width: 1100px;
  width: 100%;
  overflow-x: auto; /* Adiciona scroll horizontal se o conteúdo for muito grande */
  -webkit-overflow-scrolling: touch; /* Melhora o scroll em dispositivos iOS */
  scrollbar-width: none; /* Esconde a barra de rolagem para Firefox */
  &::-webkit-scrollbar { /* Esconde a barra de rolagem para Webkit (Chrome, Safari) */
    display: none;
  }
}

.counter-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  color: $text-color-light;
  flex: 1 0 auto; /* Garante que os itens encolham mas não quebrem */
  padding: 0.8rem;
  position: relative; /* << NOVO: Necessário para posicionar o ::after >> */

  /* << NOVO: Divisor vertical discreto >> */
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: -1.25rem; /* Posiciona no meio do gap (metade do gap: 2.5rem / 2 = 1.25rem) */
    width: 1px;
    height: 60%; /* Altura da linha, ajuste conforme preferência */
    background-color: rgba(255, 255, 255, 0.15); /* Cor da linha discreta */
    pointer-events: none; /* Garante que não interfira com interações */
  }

  /* << NOVO: Remove o divisor do último item >> */
  &:last-child::after {
    display: none;
  }

  .counter-number-wrapper {
    display: flex;
    align-items: baseline;
    font-size: clamp(2rem, 4vw, 2.8rem);
    font-weight: 600;
    line-height: 1;
    margin-bottom: 0.3rem;
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
    
    .counter-number-prefix,
    .counter-number-suffix {
      font-size: clamp(1.2rem, 2.5vw, 1.6rem);
      font-weight: 400;
      color: rgba(160, 236, 250, 0.8);
      margin: 0 0.15rem;
    }

    .counter-number {
        color: $text-color-light;
    }
  }

  .counter-title {
    font-size: clamp(0.8rem, 1.2vw, 1rem);
    font-weight: 300;
    color: $secondary-text-color;
    letter-spacing: 0.5px;
    white-space: nowrap; /* Impede quebra de linha do título */
  }
}

/* Responsividade */
@media (max-width: 1024px) {
  .animated-counters-wrapper {
    gap: 2rem;
    padding: 1.2rem 2rem;
  }
  .counter-item {
    flex: 1 0 auto;
    padding: 0.6rem;
    &::after { /* << NOVO: Ajuste do divisor para este breakpoint >> */
      right: -1rem; /* Metade do gap de 2rem */
    }
  }
  .counter-item .counter-number-wrapper {
    font-size: clamp(1.8rem, 3.5vw, 2.5rem);
    .counter-number-prefix,
    .counter-number-suffix {
      font-size: clamp(1rem, 2vw, 1.4rem);
    }
  }
  .counter-item .counter-title {
    font-size: clamp(0.7rem, 1vw, 0.9rem);
  }
}

@media (max-width: 768px) {
  .animated-counters-section {
    padding: 1.5rem 0.5rem;
  }
  .animated-counters-wrapper {
    gap: 1rem;
    padding: 1rem;
    max-width: 98%;
  }
  .counter-item {
    padding: 0.4rem;
    &::after { /* << NOVO: Ajuste do divisor para este breakpoint >> */
      right: -0.5rem; /* Metade do gap de 1rem */
      height: 50%; /* Altura menor em mobile */
    }
  }
  .counter-item .counter-number-wrapper {
    font-size: clamp(1.2rem, 4.5vw, 1.8rem);
    .counter-number-prefix,
    .counter-number-suffix {
      font-size: clamp(0.7rem, 2vw, 1rem);
    }
  }
  .counter-item .counter-title {
    font-size: clamp(0.6rem, 1.8vw, 0.8rem);
    letter-spacing: 0.2px;
  }
}

@media (max-width: 480px) {
  .animated-counters-wrapper {
    padding: 0.8rem;
    gap: 0.8rem;
  }
  .counter-item {
    padding: 0.3rem;
    &::after { /* << NOVO: Ajuste do divisor para este breakpoint >> */
      right: -0.4rem; /* Metade do gap de 0.8rem */
      height: 40%; /* Altura ainda menor em mobile pequeno */
    }
  }
  .counter-item .counter-number-wrapper {
    font-size: clamp(1rem, 4vw, 1.5rem);
    .counter-number-prefix,
    .counter-number-suffix {
      font-size: clamp(0.6rem, 1.8vw, 0.8rem);
    }
  }
  .counter-item .counter-title {
    font-size: clamp(0.5rem, 1.5vw, 0.7rem);
    white-space: normal;
  }
}
